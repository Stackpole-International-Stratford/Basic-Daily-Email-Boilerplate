<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <style>
        * {font-family: sans-serif;}
        body {padding: 20px;}
        table {
            border-collapse: collapse;
            width: 100%;
            text-align: left;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        table th {
            background-color: #f2f2f2;
            color: #333;
            font-weight: bold;
            padding: 12px 15px;
        }
        table td {
            padding: 10px 15px;
        }
        table tr:nth-child(odd) {
            background-color: #fafafa;
        }
        table tr:nth-child(even) {
            background-color: #fff;
        }
        table tr:hover {
            background-color: #f1f1f1;
        }
        table tr {border-bottom: 1px solid #ddd;}
        h1, h3 {
            color: #333;
            font-family: Arial, sans-serif;
        }
    </style>
</head>
<body>

<h1>AB1V Autogauge Production vs Scrap</h1>
<h3>{{ start }} to {{ end }}</h3>
<table>
    <tr>
        <th>Part</th>
        <th>Good</th>
        <th>Rejects</th>
    </tr>
    {%- for part in data %}
    <tr>
        <td>{{ part['part_number'] }}</td>
        <td>{{ part['good'] }}</td>
        {%- if part['reject'] %}
            {%- for key, value in part['reject'].items() %}
                {%- if value['count'] > 0 %}
                    <td>{{ value['label'] }}: {{ value['count'] }}</td>
                {%- endif %}
            {%- endfor %}
        {%- else %}
            <td>No rejects</td>
        {%- endif %}
    </tr>
    {%- endfor %}
</table>
</body>
</html>
