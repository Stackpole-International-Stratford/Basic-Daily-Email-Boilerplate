<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <style>
        * {font-family: sans-serif;}
        body {padding: 20px;}
        table {border-collapse: collapse; text-align: right;}
        table tr {border-bottom: 1px solid}
        table th, table td {padding: 10px 20px;}
    </style>
</head>
<body>

<h1>AB1V Autogauge Production vs Scrap</h1>
<h3>{{ start }} to {{ end }}</h3><table>
    <tr><th>Part</th><th>Good</th><th>Rejects</th></tr>
{%- for part in data -%}
<tr>
    <td>{{ part['part_number'] }}</td>
    <td>{{ part['good']}}</td>
    {%- for key, value in part['reject'].items() -%}
        {%- if value['count'] > 0 -%}
            <td>{{value['label']}}:{{value['count']}}</td>
        {%- endif -%}
    {%- endfor -%}
</tr>
{%- endfor -%}
</table>
</body>
</html>